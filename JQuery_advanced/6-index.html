<!DOCTYPE html>
<html lang="en" dir="ltr"> <!-- left-to-right language -->

    <head>

        <meta charset="utf-8" />
        <title>jQuery advanced</title>
        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
        <script  type="application/javascript">
            function createFamilyTree() {
                $("body").append("<table>");
                $("table").append($("<thead>"));
                $("thead").append($("<tr>"));
                $("tr").append($("<th>").text("Firstname"), $("<th>").text("Lastname"));
                $("table").append($("<tbody>"));
            }

            function addNewMember(firstName, lastName, position) {
                if (position == "before") {
                    $("tbody").prepend($("<tr>"));
                    $("tbody tr:first-child").append(
                        $("<td>").text(firstName), 
                        $("<td>").text(lastName), 
                        $("<td>").text("(x)").css("background-color", "orange").click(function() {$(this).parent().remove()})
                    );
                }
                else {
                    $("tbody").append($("<tr>"));
                    $("tbody tr:last-child").append(
                        $("<td>").text(firstName), 
                        $("<td>").text(lastName), 
                        $("<td>").text("(x)").css("background-color", "orange").click(function() {$(this).parent().remove()})
                    );
                }
            }

            function createForm() {
                $("table").before(
                    $("<input>").attr("type", "text").attr("name", "firstname"),
                    $("<input>").attr("type", "text").attr("name", "lastname"),
                    $("<select>").attr("name", "position"));

                $("select").append(
                    $("<option>").attr("value", "before").text("Before"),
                    $("<option>").attr("value", "after").text("After")
                );

                $("select").after($("<input>").attr("type", "submit"));

                $("input:last").click(function() {
                    addNewMember(
                        $("input:nth-of-type(1)").val(), 
                        $("input:nth-of-type(2)").val(),
                        $("select").val()
                    )
                });
            }

            $(function(){
                createFamilyTree();
                createForm();
            });

        </script>

    </head>

    <body>

    </body>

</html>